<!doctype html>
<html lang="en">
  	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="description" content="Spore Engineering Token Exchange">
		<meta name="author" content="Spore Engineering, Carlos Baeza Negroni">

		<title>Spore Engineering Token Exchange</title>
		
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<link rel="icon" href="img/spore-swap-logo-solid.png" type="image/png">
		<link rel='stylesheet' type='text/css' media='screen' href='css/main.css'>
		<link rel='stylesheet' type='text/css' media='screen' href='css/material.bootstrap.theme.css'>

		<meta name="theme-color" content="#563d7c">

		<style>
			body {
				padding-top: 12rem;
			}
			.starter-template {
				text-align: center;
			}
		</style>
	</head>
	<body>
    	<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        	<div class="container">
        		<a class="navbar-brand" href="#">
					<img src="img/spore-swap-logo.png" width="47" height="47" class="d-inline-block align-top" alt="">
				</a>
        
				<div class="collapse navbar-collapse" id="navbarsExampleDefault">
					<ul class="navbar-nav mr-auto">
						<li class="nav-item active">
							<a class="nav-link" href="#">Exchange <span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#">Etherscan <sup>â†—</sup></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#">Uniswap <sup>â†—</sup></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="#">Telegram <sup>â†—</sup></a>
						</li>
					</ul>
				</div>

				<div style="display: none;" id="metamastUserInfoNavbar">
					<span class="badge badge-secondary wallet-address" id="metamaskUserInfoNavbarAddress"></span> 
					<span class="badge badge-pill badge-success success-msg-wallet-address">Connected</span>
				</div>
				
				<button style="display: none;" class="btn btn-info my-2 my-sm-0 login-metamask-button" type="submit" id="connectMetamaskButton"> <img src="img/metamask-fox-icon.png" height="22" alt=""> Connect Metamask</button>
  			</div>
		</nav>

		<main role="main" class="container">
			<div class="starter-template">
				<div class="row justify-content-md-center">
					<div class="col-md-6">

						<!--<div class="alert alert-dismissible alert-success mb-5">
							<button type="button" class="close" data-dismiss="alert">&times;</button>
							<strong><h4>ðŸŽ‰ Transaction Successful ðŸŽ‰</h4></strong>This is your transaction hash: <a href="#" class="alert-link">0xae159d00f093fdbf6e16688d9a703052cf093b3de6df635ff5cb7fd5cb03d552</a><br>
							<br>
							<a href="https://info.uniswap.org/pair/0x35b3325d1852D3C67481f09361666bF3325307Da" class="btn btn-success" target="_blank"><img src="img/logo_white.edb44e56.svg" class="" alt=""> Add Liquidity on Uniswap </a>
							
						</div>

						<div class="alert alert-dismissible alert-danger mb-5">
							<button type="button" class="close" data-dismiss="alert">&times;</button>
							<strong><h4>â›” Transaction Failed â›”</h4></strong>For some reason your transaction failed, please refresh the page and try again.
							
						</div>-->

						<div class="row mb-3">
							<div class="col-md-6">
								<img src="img/spore-logo-round-transparen.png" width="24" height="24" alt=""> 1 SPORE = 0.00147 ETH
							</div>
							<div class="col-md-6">
								<img src="img/eth-icon-logo.png" width="24" height="24" alt=""> 1 ETH = 679.63833 SPORE
							</div>
						</div>

						<div class="card text-white bg-dark mb-5">
							<div class="card-body">
								<ul class="nav nav-pills nav-fill">
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" href="#buy-spore">Buy</a>
									</li>
									<li class="nav-item">
										<a class="nav-link disabled" data-toggle="tab" href="#sell-spore">Sell</a>
									</li>
									<li class="nav-item">
										<a class="nav-link disabled" data-toggle="tab" href="#pool-spore">Pool</a>
									</li>
									<li class="nav-item">
										<a class="nav-link disabled" data-toggle="tab" href="#gov-spore">Vote</a>
									</li>
								</ul>

								<div class="tab-content tabContentSpore">
									<div class="tab-pane fade active show" id="buy-spore">
										<div class="form-group">
											<label class="control-label">Please fill down below the amount of Spore Tokens you want to purchase.</label>
											<div class="form-group">
												<div class="input-group mb-3">

													<div class="input-group-prepend">
														<span class="input-group-text"><img src="img/spore-logo-round-transparen.png" width="48" height="48" alt=""></span>
													</div>
													
													<input type="text" class="form-control buy-spore-input" aria-label="Amount (to the nearest dollar)">
													
													<div class="input-group-append">
														<span class="input-group-text arrangementsPriceResume">
															Total ETH: Îž0.1847 <br> 
															Total USD: $0.1847
														</span>
													</div>

												</div>
											</div>
										</div>
										<button type="button" class="btn btn-info btn-lg btn-block" data-toggle="modal" data-target="#exampleModal">Buy Spore Tokens</button>
									</div>
								</div>
							</div>

							<div class="card-footer text-muted">
								<b>ETH:</b> $404,13 | <b>BTC:</b> $13.702,60 | <b>LTC:</b> $57,72 
							</div>
						</div>

						<!--<hr> 

						<h4 class="mb-3">ðŸ’° Spore Liquidity Program Rewards ðŸ’°<br><span class="card-footer text-muted subtitle-awards">
							Those rewards are for being a Spore liquidity provider
						</span></h4>
						

						<div class="alert alert-dismissible alert-danger">
							<button type="button" class="close" data-dismiss="alert">&times;</button>
							<img src="img/copihue-white-lines-logo.png" alt=""> <br>
							You've been invited to the pre-mining investor round for Copihue Financial, please visit the <a href="https://copihue.app" class="alert-link" target="_blank">User Dashboard</a> and sign in to your account.
						</div>-->
					</div>
				</div>
			</div>
		</main><!-- /.container -->


		<!-- Button trigger modal -->
		<!--<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
			Launch demo modal
		</button>-->

		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"><!--data-backdrop="static" data-keyboard="false"-->
			<div class="modal-dialog" role="document">
			  <div class="modal-content">
				<div class="modal-body loading-transaction-text-container">
					<img src="img/loading.gif" width="250"><br>
					<span class="loading-transaction-text">Your transaction is being processed, please stand by, this screen will automatically disappear when the process it's completed âŒ›</span>
				</div>
			  </div>
			</div>
		  </div>

		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

		<script>

			const initialize = async () => {

				const loginMetamaskButton = document.getElementById('connectMetamaskButton');
				const metamastUserInfoNavbar = document.getElementById('metamastUserInfoNavbar');
				const metamaskUserInfoNavbarAddress = document.getElementById('metamaskUserInfoNavbarAddress');

				let accounts = null;
				const metamaskIcon = "<img src='img/metamask-fox-icon.png' height='22'>";

				const updateHeaderAccountInfo = (address) => {
					metamaskUserInfoNavbarAddress.innerText = address;

					loginMetamaskButton.style.display = 'none';
					metamastUserInfoNavbar.style.display = 'block';
				};

				const isMetaMaskInstalled = () => {
					const { ethereum } = window;
					ethereum.autoRefreshOnNetworkChange = false;
					
					return Boolean(ethereum && ethereum.isMetaMask);
				};

				if(!isMetaMaskInstalled()) {
					loginMetamaskButton.style.display = 'block';
					loginMetamaskButton.onclick = "";
					loginMetamaskButton.innerText = metamaskIcon + ' You need to install Metamask first';
					loginMetamaskButton.disabled = true;
				}
				else {
					accounts = await ethereum.request({ method: 'eth_accounts' });

					if(accounts.length > 0) {
						updateHeaderAccountInfo(accounts);
					}
					else {
						loginMetamaskButton.style.display = 'block';
					}
				}

				document.querySelector('#connectMetamaskButton').addEventListener('click', async () => {
					accounts = await ethereum.request({ method: 'eth_requestAccounts' });
					updateHeaderAccountInfo(accounts[0]);
				});
					
			};
			window.addEventListener('DOMContentLoaded', initialize);
		</script>
	</body>
</html>